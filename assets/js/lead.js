var data = {
    "countries": {
        "US": "United States"
    },
    "states": {
        "GB": {
            "ABE": "Aberdeen City",
            "ABD": "Aberdeenshire",
            "ANS": "Angus",
            "ANT": "Antrim",
            "ARD": "Ards",
            "AGB": "Argyll and Bute",
            "ARM": "Armagh",
            "BLA": "Ballymena",
            "BLY": "Ballymoney",
            "BNB": "Banbridge",
            "BDG": "Barking and Dagenham",
            "BNE": "Barnet",
            "BNS": "Barnsley",
            "BAS": "Bath and North East Somerset",
            "BBO": "Bedford Borough",
            "BDF": "Bedfordshire",
            "BFS": "Belfast",
            "BEX": "Bexley",
            "BIR": "Birmingham",
            "BBD": "Blackburn with Darwen",
            "BPL": "Blackpool",
            "BGW": "Blaenau Gwent",
            "BOL": "Bolton",
            "BMH": "Bournemouth",
            "BRC": "Bracknell Forest",
            "BRD": "Bradford",
            "BEN": "Brent",
            "BGE": "Bridgend",
            "BNH": "Brighton and Hove",
            "BST": "Bristol, City of",
            "BRY": "Bromley",
            "BUC": "Buckingham",
            "BKM": "Buckinghamshire",
            "BUR": "Bury",
            "CAY": "Caerphilly",
            "CLD": "Calderdale",
            "CAM": "Cambridgeshire",
            "CMD": "Camden",
            "CRF": "Cardiff",
            "CMN": "Carmarthenshire",
            "CKF": "Carrickfergus",
            "CSR": "Castlereagh",
            "CGN": "Ceredigion",
            "CHS": "Cheshire",
            "CHE": "Cheshire East",
            "CWC": "Cheshire West and Chester",
            "CLK": "Clackmannanshire",
            "CLR": "Coleraine",
            "CWY": "Conwy",
            "CKT": "Cookstown",
            "CON": "Cornwall",
            "COV": "Coventry",
            "CGV": "Craigavon",
            "CRY": "Croydon",
            "CMA": "Cumbria",
            "DAL": "Darlington",
            "DEN": "DenbighshireD",
            "DER": "Derby",
            "DBY": "Derbyshire",
            "DRY": "Derry",
            "DEV": "Devon",
            "DNC": "Doncaster",
            "DOR": "Dorset",
            "DOW": "Down",
            "DUD": "Dudley",
            "DGY": "Dumfries and Galloway",
            "DND": "Dundee City",
            "DGN": "Dungannon",
            "DUR": "Durham",
            "EAL": "Ealing",
            "EAY": "East Ayrshire",
            "EDU": "East Dunbartonshire",
            "ELN": "East Lothian",
            "ERW": "East Renfrewshire",
            "ERY": "East Riding of Yorkshire",
            "ESX": "East Sussex",
            "EDH": "Edinburgh, City of",
            "ELS": "Eilean Siar",
            "ENF": "Enfield",
            "ESS": "Essex",
            "FAL": "Falkirk",
            "FER": "Fermanagh",
            "FIF": "Fife",
            "FLN": "Flintshire",
            "GAT": "Gateshead",
            "GLG": "Glasgow City",
            "GLS": "Gloucestershire",
            "GLO": "Greater London",
            "GRE": "Greenwich",
            "GGY": "Guernsey",
            "GWN": "Gwynedd",
            "HCK": "Hackney",
            "HAL": "Halton",
            "HMF": "Hammersmith and Fulham",
            "HAM": "Hampshire",
            "HRY": "Haringey",
            "HRW": "Harrow",
            "HPL": "Hartlepool",
            "HAV": "Havering",
            "HEF": "Herefordshire, County of",
            "HTF": "Hertfordshire",
            "HRT": "Hertfordshire",
            "HLD": "Highland",
            "HIL": "Hillingdon",
            "HNS": "Hounslow",
            "IVC": "Inverclyde",
            "AGY": "Isle of Anglesey",
            "IOM": "Isle of Man",
            "IOW": "Isle of Wight",
            "IOS": "Isles of Scilly",
            "ISL": "Islington",
            "JEY": "Jersey",
            "KEC": "Kensington and Chelsea",
            "KEN": "Kent",
            "KHL": "Kingston upon Hull, City of",
            "KTT": "Kingston upon Thames",
            "KIR": "Kirklees",
            "KWL": "Knowsley",
            "LBH": "Lambeth",
            "LAN": "Lancashire",
            "LRN": "Larne",
            "LDS": "Leeds",
            "LCE": "Leicester",
            "LEC": "Leicestershire",
            "LEW": "Lewisham",
            "LMV": "Limavady",
            "LIN": "Lincolnshire",
            "LSB": "Lisburn",
            "LIV": "Liverpool",
            "LND": "London, City of",
            "LUT": "Luton",
            "MFT": "Magherafelt",
            "MAN": "Manchester",
            "MDW": "Medway",
            "MTY": "Merthyr Tydfil",
            "MRT": "Merton",
            "MDB": "Middlesbrough",
            "MLN": "Midlothian",
            "MIK": "Milton Keynes",
            "MON": "Monmouthshire",
            "MRY": "Moray",
            "MYL": "Moyle",
            "NTL": "Neath Port Talbot",
            "NET": "Newcastle upon Tyne",
            "NWM": "Newham",
            "NWP": "Newport",
            "NYM": "Newry and Mourne",
            "NTA": "Newtownabbey",
            "NFK": "Norfolk",
            "NAY": "North Ayrshire",
            "NDN": "North Down",
            "NEL": "North East Lincolnshire",
            "NLK": "North Lanarkshire",
            "NLN": "North Lincolnshire",
            "NSM": "North Somerset",
            "NTY": "North Tyneside",
            "NYK": "North Yorkshire",
            "NTH": "Northamptonshire",
            "NBL": "Northumberland",
            "NGM": "Nottingham",
            "NTT": "Nottinghamshire",
            "OLD": "Oldham",
            "OMH": "Omagh",
            "ORK": "Orkney Islands",
            "OXF": "Oxfordshire",
            "PEM": "Pembrokeshire",
            "PKN": "Perth and Kinross",
            "PTE": "Peterborough",
            "PLY": "Plymouth",
            "POL": "Poole",
            "POR": "Portsmouth",
            "POW": "Powys",
            "RDG": "Reading",
            "RDB": "Redbridge",
            "RCC": "Redcar and Cleveland",
            "RFW": "Renfrewshire",
            "RCT": "Rhondda, Cynon, Ta",
            "RIC": "Richmond upon Thames",
            "RCH": "Rochdale",
            "ROT": "Rotherham",
            "RUT": "Rutland",
            "SLF": "Salford",
            "SAW": "Sandwell",
            "SCB": "Scottish Borders, The",
            "SFT": "Sefton",
            "SHF": "Sheffield",
            "ZET": "Shetland Islands",
            "SHR": "Shropshire",
            "SLG": "Slough",
            "SOL": "Solihull",
            "SOM": "Somerset",
            "SAY": "South Ayrshire",
            "SGC": "South Gloucestershire",
            "SLK": "South Lanarkshire",
            "STY": "South Tyneside",
            "SYK": "South Yorkshire",
            "STH": "Southampton",
            "SOS": "Southend-on-Sea",
            "SWK": "Southwark",
            "SHN": "St. Helens",
            "STS": "Staffordshire",
            "STG": "Stirling",
            "SKP": "Stockport",
            "STT": "Stockton-on-Tees",
            "STE": "Stoke-on-Trent",
            "STB": "Strabane",
            "SFK": "Suffolk",
            "SND": "Sunderland",
            "SRY": "Surrey",
            "STN": "Sutton",
            "SWA": "Swansea",
            "SWD": "Swindon",
            "TAM": "Tameside",
            "TFW": "Telford and Wrekin",
            "THR": "Thurrock",
            "TOB": "Torbay",
            "TOF": "Torfaen",
            "TWH": "Tower Hamlets",
            "TRF": "Trafford",
            "VGL": "Vale of Glamorgan, T",
            "WKF": "Wakefield",
            "WLL": "Walsall",
            "WFT": "Waltham Forest",
            "WND": "Wandsworth",
            "WRT": "Warrington",
            "WAR": "Warwickshire",
            "WBK": "West Berkshire",
            "WDU": "West Dunbartonshire",
            "WLN": "West Lothian",
            "WMD": "West Midlands",
            "WSX": "West Sussex",
            "WYK": "West Yorkshire",
            "WSM": "Westminster",
            "WGN": "Wigan",
            "WIL": "Wiltshire",
            "WNM": "Windsor and Maidenhead",
            "WRL": "Wirral",
            "WOK": "Wokingham",
            "WLV": "Wolverhampton",
            "WOC": "Worcester",
            "WOR": "Worcestershire",
            "WRX": "Wrexham",
            "YOR": "York"
        },
        "CA": {
            "AB": "Alberta",
            "BC": "British Columbia",
            "MB": "Manitoba",
            "NB": "New Brunswick",
            "NL": "Newfoundland and Labrador",
            "NT": "Northwest Territories",
            "NS": "Nova Scotia",
            "NU": "Nunavut",
            "ON": "Ontario",
            "PE": "Prince Edward Island",
            "QC": "Quebec",
            "SK": "Saskatchewan",
            "YT": "Yukon"
        },
        "NZ": {
            "AUK": "Auckland",
            "BOP": "Bay of Plenty",
            "CAN": "Canterbury",
            "CIT": "Chatham Islands Territory",
            "GIS": "Gisborne District",
            "HKB": "Hawkes\u0027s Bay",
            "MWT": "Manawatu-Wanganui",
            "MBH": "Marlborough District",
            "NSN": "Nelson City",
            "N": "North Island",
            "NTL": "Northland",
            "OTA": "Otago",
            "S": "South Island",
            "STL": "Southland",
            "TKI": "Taranaki",
            "TAS": "Tasman District",
            "WKO": "Waikato",
            "WGN": "Wellington",
            "WTC": "West Coast"
        },
        "AU": {
            "ACT": "Australian Capital Territory",
            "NSW": "New South Wales",
            "NT": "Northern Territory",
            "QLD": "Queensland",
            "SA": "South Australia",
            "TAS": "Tasmania",
            "VIC": "Victoria",
            "WA": "Western Australia"
        },
        "US": {
            "AL": "Alabama",
            "AK": "Alaska",
            "AZ": "Arizona",
            "AR": "Arkansas",
            "CA": "California",
            "CO": "Colorado",
            "CT": "Connecticut",
            "DE": "Delaware",
            "DC": "District of Columbia",
            "FL": "Florida",
            "GA": "Georgia",
            "HI": "Hawaii",
            "ID": "Idaho",
            "IL": "Illinois",
            "IN": "Indiana",
            "IA": "Iowa",
            "KS": "Kansas",
            "KY": "Kentucky",
            "LA": "Louisiana",
            "ME": "Maine",
            "MD": "Maryland",
            "MA": "Massachusetts",
            "MI": "Michigan",
            "MN": "Minnesota",
            "MS": "Mississippi",
            "MO": "Missouri",
            "MT": "Montana",
            "NE": "Nebraska",
            "NV": "Nevada",
            "NH": "New Hampshire",
            "NJ": "New Jersey",
            "NM": "New Mexico",
            "NY": "New York",
            "NC": "North Carolina",
            "ND": "North Dakota",
            "OH": "Ohio",
            "OK": "Oklahoma",
            "OR": "Oregon",
            "PA": "Pennsylvania",
            "RI": "Rhode Island",
            "SC": "South Carolina",
            "SD": "South Dakota",
            "TN": "Tennessee",
            "TX": "Texas",
            "UT": "Utah",
            "VT": "Vermont",
            "VA": "Virginia",
            "WA": "Washington",
            "WV": "West Virginia",
            "WI": "Wisconsin",
            "WY": "Wyoming",
            "AS": "American Samoa",
            "FM": "Federated States of Micronesia",
            "GU": "Guam",
            "MP": "Northern Mariana Islands",
            "PR": "Puerto Rico",
            "MH": "Republic of Marshall Islands",
            "VI": "Virgin Islands of the U.S.",
            "AE": "Armed Forces Middle East",
            "AA": "Armed Forces Americas",
            "AP": "Armed Forces Pacific"
        }
    }
};


// run jquery when page is ready
$(document).ready(function() {

    var $Countrydropdown = $('#shippingCountry');
    var $Statedropdown = $('#shippingState');

    $Countrydropdown.empty();

    $Countrydropdown.append('<option selected="true" disabled>Choose Country</option>');
    $Countrydropdown.prop('selectedIndex', 0);

    $.each(data.countries, function (key, entry) {
        $Countrydropdown.append($('<option></option>').attr('value', key).text(entry));
    });

    $('.closealert').on('click', function() {
        $('.alert-danger').hide();
    });

    $Countrydropdown.on('change', function() {
        $Statedropdown.empty();
        $Statedropdown.append('<option selected="true" disabled>Choose State</option>');
        $Statedropdown.prop('selectedIndex', 0);

        $.each(data.states[$(this).find(":selected").val()], function (key, entry) {
            $Statedropdown.append($('<option></option>').attr('value', key).text(entry));
        });

    });

    if(selectedCountry != ""){
        $Countrydropdown.val( selectedCountry );
        $Countrydropdown.trigger( 'change' );
        setTimeout(function() {
            if (selectedState != "") {
                $Statedropdown.val(selectedState);
            }
        },1000);
    }

});


var form = document.querySelector('[data-uitype="leadform"]');

form.addEventListener('submit', function (e) {
    e.preventDefault();
}, false);

var submit_form_btn = document.querySelector('[data-uitype="submit_button"]');

submit_form_btn.addEventListener('click', function () {
    if (form.checkValidity()) {
        openLoadingModal();
        form.submit();
    }
    else {
        form.querySelector('[type="submit"]').click();
    }
}, false);